{{- if not .Values.database.existingSecret }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "taskmanager.fullname" . }}-db-secret
  namespace: {{ .Release.Namespace }}
  labels:
    {{- include "taskmanager.labels" . | nindent 4 }}
type: Opaque
stringData:
  DB_PASSWORD: "changeme"  # This should be overridden via --set or sealed secrets
{{- end }}
---
{{- if not .Values.jwt.existingSecret }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "taskmanager.fullname" . }}-jwt-secret
  namespace: {{ .Release.Namespace }}
  labels:
    {{- include "taskmanager.labels" . | nindent 4 }}
type: Opaque
stringData:
  JWT_SECRET: "changeme"  # This should be overridden via --set or sealed secrets
{{- end }}
